<!doctype html>
<html>
	
	<head>
		<title>Check In</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!--
		<script type = "module" src="js/index.js"></script>
		-->
		<link rel="stylesheet" rel="preload" as="style" onload="this.rel='stylesheet';this.onload=null" href="https://unpkg.com/normalize.css@8.0.0/normalize.css">
    	<link rel="stylesheet" rel="preload" as="style" onload="this.rel='stylesheet';this.onload=null" href="https://unpkg.com/milligram@1.3.0/dist/milligram.min.css">
		<script type="text/javascript" src="https://unpkg.com/@zxing/library@latest"></script>
		<link rel="stylesheet" type="text/css" href="css/index.css">
	</head>

	<div id = "vidStream">
	
		<video autoplay="true" id = "videoElement"></video>
		<script type = "module">
			var video = document.querySelector("#videoElement");

			if (navigator.mediaDevices.getUserMedia) {
				navigator.mediaDevices.getUserMedia(
					{ video: true })
					.then(function (stream) {
						video.srcObject = stream;
					}).catch(function (err0r) {
						console.log("Something went wrong!");
					}
				);
			}
		</script>
	
	</div>

	<body id = "log">
		ting
	</body>
	<!--
	<img src="Pictures/barcodes/12.jpg" id = "barcodeimg">
-->
	<script type = "module">
		document.getElementById('log').innerHTML = "jyunkus";

		import { BrowserQRCodeReader } from '@zxing/library';

		var codeReader = new BrowserQRCodeReader();
		var img = document.getElementById('barcodeimg');

		try {
			var result = codeReader.decodeFromImage(img);
		} catch (err) {
			console.log(err);
			console.error(err);
			document.getElementById('log').innerHTML = err;
		}

		console.log(result);
		document.getElementById('log').innerHTML = result;
		document.getElementById('log').innerHTML = "jyunkus";
	</script>

</html>