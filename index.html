<!doctype html>
<html>
	
	<head>
		<title>Check In</title>

		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<!--<script type = "module" src="js/index.js"></script>-->
		
		<link rel="stylesheet" type="text/css" href="css/index.css">

	</head>

	<div id ="top">
		<body>
			Scan the barcode on your Student ID<br>
			... <i>hopefully</i> 
		</body>
	</div>

	<div id = "middle">
		
		<video id="videoStream"></video>

		<label id = "result">
			<em>Nothing Yet!!!</em>
		</label>
	</div>

	<img src = "Pictures/barcodes/13.jpg" id = "img">

	<script type="text/javascript" src="https://unpkg.com/@zxing/library@latest"></script>


	<script type="module">
  import { BrowserQRCodeReader } from '@zxing/library';

  const codeReader = new BrowserQRCodeReader();
  const img = document.getElementById('img');

  try {
      const result = await codeReader.decodeFromImage(img);
  } catch (err) {
      console.error(err);
  }

  console.log(result);
</script>


<!--
	<script>
		const codeReader = new ZXing.BrowserBarcodeReader()

		codeReader
			.listVideoInputDevices()
			.then(videoInputDevices => {
				videoInputDevices.forEach(device =>
					console.log(`${device.label}, ${device.deviceId}`)
				);
			})
			.catch(err => console.error(err));

		var deviceId = undefined;
		
		/*
		try{
			deviceId = videoInputDevices[1].deviceId;
		} catch(err){
			deviceId = videoInputDevices[0].deviceId;
		}
		*/
		
		codeReader
			.decodeOnceFromVideoDevice(DeviceId, 'video')
			.then(result => console.log(result.text))
			.catch(err => console.error(err));




	</script>
-->
</html>